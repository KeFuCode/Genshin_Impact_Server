# Genshin_Impact_Server

## 0 文件结构
1. bin 文件夹
   - csvs 文件夹：放入配置表
   - 编译后的执行文件
2. src 文件夹
   放入核心代码
3. main.go
   程序的入口

## 1 基础模块
玩家从客户端登陆后，首先拿到的就是基础信息。
这个模块对应数据库中的一张表

UID 对每个玩家是唯一确定的

基础模块内容：
1. UID
2. 头像，名片
3. 签名
4. 名字
5. 冒险等级 冒险阅读
6. 世界等级 冷却时间：时间用 int64 存储
7. 生日
8. 展示阵容 展示名片

> 隐藏内容
1. 账号状态：使用 int 保存（不用 bool ），方便后续扩展。 
2. 管理员状态

## 2 模块关系
Player 作为最上层模块，接收到 Client 发送的消息后，调用 ModPlayer 内置方法。

## 3 名字验证
#d 名字验证
1. 英文名：字符格式多样，一般不做处理。
2. 中文名：违规中文名组合多种多样，防不胜防。直接写验证条件，无法穷尽，对服务器要求高。
   - 做法1：调用 HTTP 地址接口，进行外部验证。
     - 优点：对服务器压力小。
     - 缺点： 依赖外部验证服务器的安全性、稳定性。
   - 做法2（常用）：设置违禁词库，并提供更新方法。

#e ManageBanWord 名字验证

#d 管理类与玩家类区别
玩家连接客户端之后，玩家线程被动创建。公共管理类，需要 server 启动后主动创建。
#e 单例模式实现管理类 管理类与玩家类区别